<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mec√°nica de Fluidos | U. Am√©rica</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    
    <!-- MathJax -->
    <script>
        MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' },
            startup: {
                ready: () => {
                    MathJax.startup.defaultReady();
                    const styles = document.createElement('style');
                    styles.innerHTML = 'mjx-container { display: inline-block !important; vertical-align: text-bottom !important; margin: 0 !important; } svg { display: inline !important; }';
                    document.head.appendChild(styles);
                }
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc;
            color: #334155;
            overflow: hidden; 
            -webkit-font-smoothing: antialiased;
        }
        h1, h2, h3, .serif-font { font-family: 'Playfair Display', serif; }

        /* --- FONDO MARCA DE AGUA --- */
        #watermark-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background-image: url('https://img.freepik.com/free-vector/white-abstract-background-design_23-2148825582.jpg?w=2000'); 
            background-size: cover; background-position: center;
            opacity: 0.4; pointer-events: none; mix-blend-mode: multiply;
        }

        /* --- VISIBILIDAD DE SECCIONES --- */
        .tab-panel { display: none !important; }
        .tab-panel.active { display: block !important; }

        /* Estilos de las tarjetas de contenido */
        .content-card {
            background-color: rgba(255, 255, 255, 0.92); 
            backdrop-filter: blur(8px);
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 2.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(226, 232, 240, 0.8);
        }

        /* Animaci√≥n de p√°gina */
        .page-turn-enter {
            display: block !important;
            animation: turnPageIn 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }

        @keyframes turnPageIn {
            0% { opacity: 0; transform: perspective(2000px) rotateY(-45deg) translateX(-50px); }
            100% { opacity: 1; transform: perspective(2000px) rotateY(0deg) translateX(0); }
        }

        /* --- ESTILOS GENERALES --- */
        p, li { text-align: left; margin-bottom: 0.8rem; line-height: 1.7; font-size: 1.05rem; }
        
        .math-display {
            overflow-x: auto; padding: 0.75rem; background-color: #fff;
            border-radius: 0.5rem; border: 1px solid #e2e8f0; margin: 1rem 0;
            text-align: center; font-size: 1.1rem;
        }

        .nav-item { transition: all 0.2s; border-radius: 6px; margin-bottom: 2px; }
        .nav-item:hover { background-color: #e2e8f0; color: #0f172a; }
        .nav-item.active { background-color: #2563eb; color: #fff; font-weight: 600; box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3); }
        
        .chart-wrapper { position: relative; width: 100%; height: 300px; background: #fff; border: 1px solid #cbd5e1; border-radius: 0.5rem; padding: 10px; }
        .btn-primary { background-color: #2563eb; color: white; padding: 0.5rem 1.5rem; border-radius: 0.5rem; transition: 0.2s; font-weight: 500; font-size: 1rem; }
        .btn-primary:hover { background-color: #1d4ed8; }
        
        figcaption { font-size: 0.85rem; color: #64748b; text-align: center; margin-top: 0.75rem; font-style: italic; }
        .img-box { height: 240px; display: flex; align-items: center; justify-content: center; background: #fff; border: 1px solid #cbd5e1; border-radius: 0.5rem; overflow: hidden; padding: 4px; }
        .img-box img { max-height: 100%; max-width: 100%; object-fit: contain; }

        details > summary { list-style: none; outline: none; }
        details > summary::-webkit-details-marker { display: none; }
        
        .external-link { display: flex; align-items: center; gap: 8px; color: #2563eb; font-size: 0.95rem; font-weight: 500; text-decoration: none; padding: 6px 0; }
        .external-link:hover { text-decoration: underline; }
        .resource-box { background-color: #f1f5f9; border-top: 1px solid #e2e8f0; padding-top: 1.5rem; margin-top: 2rem; border-radius: 0.5rem; padding: 1.5rem; }
        
        /* Ajuste Portada */
        #cover.tab-panel { background: transparent !important; box-shadow: none !important; border: none !important; }
    </style>
</head>
<body class="flex flex-col md:flex-row h-screen overflow-hidden text-[16px]">

    <div id="watermark-bg"></div>

    <!-- Sidebar -->
    <aside class="w-full md:w-64 bg-white/95 backdrop-blur-sm border-r border-slate-200 flex flex-col z-20 shadow-xl md:shadow-none h-full absolute md:relative transform -translate-x-full md:translate-x-0 transition-transform duration-300" id="sidebar">
        <div class="p-6 border-b border-slate-100 flex items-center gap-3 bg-slate-50/80">
            <div class="w-10 h-10 bg-blue-700 rounded-lg text-white flex items-center justify-center text-lg font-serif font-bold shadow-sm">UA</div>
            <div><h1 class="text-base font-bold text-slate-800 leading-tight serif-font">Mec√°nica de<br>Fluidos</h1></div>
        </div>
        <nav class="flex-1 overflow-y-auto p-4">
            <ul class="space-y-1">
                <li><button onclick="navTo('cover')" class="nav-item w-full text-left px-4 py-3" data-target="cover">Inicio / Portada</button></li>
                <li><button onclick="navTo('density')" class="nav-item w-full text-left px-4 py-3" data-target="density">1. Densidad</button></li>
                <li><button onclick="navTo('compressibility')" class="nav-item w-full text-left px-4 py-3" data-target="compressibility">2. Compresibilidad</button></li>
                <li><button onclick="navTo('viscosity')" class="nav-item w-full text-left px-4 py-3" data-target="viscosity">3. Viscosidad</button></li>
                <li><button onclick="navTo('capillarity')" class="nav-item w-full text-left px-4 py-3" data-target="capillarity">4. Capilaridad</button></li>
                <li><button onclick="navTo('vapor')" class="nav-item w-full text-left px-4 py-3" data-target="vapor">5. Presi√≥n de Vapor</button></li>
                <li class="pt-4 mt-2 border-t border-slate-100"><button onclick="navTo('quiz')" class="nav-item w-full text-left px-4 py-3 font-bold text-blue-700 bg-blue-50/50 hover:bg-blue-100" data-target="quiz">Evaluaci√≥n Final</button></li>
                <li><button onclick="navTo('biblio')" class="nav-item w-full text-left px-4 py-3 text-slate-500" data-target="biblio">Bibliograf√≠a</button></li>
            </ul>
        </nav>
    </aside>

    <!-- Header M√≥vil -->
    <div class="md:hidden bg-white/90 backdrop-blur-md border-b border-slate-200 p-4 flex justify-between items-center shadow-sm z-30 relative">
        <span class="font-bold serif-font text-slate-800">Mec√°nica de Fluidos</span>
        <button onclick="toggleSidebar()" class="text-slate-600 p-2 hover:bg-slate-100 rounded"><span class="text-xl">‚ò∞</span></button>
    </div>

    <!-- √Årea Principal (Ampliada) -->
    <main class="flex-1 h-full overflow-y-auto" id="content-perspective">
        <div class="max-w-7xl mx-auto p-4 md:p-8 pb-32">
            
            <!-- PORTADA -->
            <section id="cover" class="tab-panel active page-turn-enter">
                <div class="flex flex-col items-center justify-center min-h-[85vh] text-center">
                    <div class="bg-white/90 p-12 md:p-20 rounded-3xl shadow-2xl border border-slate-100 max-w-5xl w-full backdrop-blur-sm">
                        <div class="w-24 h-24 bg-blue-900 rounded-full mx-auto mb-8 flex items-center justify-center text-white text-4xl font-serif shadow-xl ring-8 ring-blue-50">UA</div>
                        <h1 class="text-5xl md:text-7xl font-bold text-slate-900 mb-6 serif-font leading-tight tracking-tight">Propiedades de los Fluidos</h1>
                        <h2 class="text-xl md:text-2xl text-slate-500 mb-12 font-light uppercase tracking-[0.2em]">Gu√≠a de Estudio Interactiva</h2>
                        
                        <div class="grid grid-cols-2 gap-8 text-left bg-slate-50/80 p-10 rounded-2xl border border-slate-200 mb-12 shadow-inner text-lg">
                            <div><p class="text-slate-400 uppercase font-bold text-xs mb-1">Profesor</p><p class="font-semibold text-slate-800 mb-0">Ph.D. Juan Sandoval H.</p></div>
                            <div><p class="text-slate-400 uppercase font-bold text-xs mb-1">Curso</p><p class="font-semibold text-slate-800 mb-0">Mec√°nica de Fluidos</p></div>
                            <div><p class="text-slate-400 uppercase font-bold text-xs mb-1">Instituci√≥n</p><p class="font-semibold text-slate-800 mb-0">Universidad de Am√©rica</p></div>
                            <div><p class="text-slate-400 uppercase font-bold text-xs mb-1">A√±o</p><p class="font-semibold text-slate-800 mb-0">2026</p></div>
                        </div>
                        
                        <button onclick="navTo('density')" class="bg-blue-600 text-white px-12 py-5 rounded-full text-xl font-bold hover:bg-blue-700 shadow-xl hover:shadow-2xl transition transform hover:-translate-y-1 w-full md:w-auto tracking-wide">
                            COMENZAR ESTUDIO
                        </button>
                    </div>
                </div>
            </section>

            <!-- 1. DENSIDAD -->
            <section id="density" class="tab-panel content-card">
                <header class="mb-8 border-b border-slate-300 pb-5">
                    <span class="text-blue-600 font-bold text-xs uppercase tracking-widest mb-2 block">M√≥dulo 1</span>
                    <h2 class="text-4xl text-slate-800 font-bold serif-font">Densidad y Derivados</h2>
                </header>
                
                <div class="grid lg:grid-cols-2 gap-10 mb-10">
                    <div class="text-slate-700">
                        <h3 class="font-bold text-slate-900 mb-4 text-lg border-l-4 border-blue-500 pl-4">Definiciones Fundamentales</h3>
                        <ul class="list-none space-y-4 mb-6 text-base">
                            <li><strong>‚Ä¢ Densidad ($\rho$):</strong> Masa por unidad de volumen ($kg/m^3$).</li>
                            <li><strong>‚Ä¢ Volumen Espec√≠fico ($v$):</strong> Es el inverso de la densidad ($v=1/\rho$). Indica cu√°nto volumen ocupa 1 kg de masa.</li>
                            <li><strong>‚Ä¢ Peso Espec√≠fico ($\gamma$):</strong> Fuerza de gravedad (peso) por unidad de volumen ($\gamma = \rho g$). Es la propiedad clave en la Hidrost√°tica.</li>
                            <li><strong>‚Ä¢ Densidad Relativa ($SG$):</strong> Relaci√≥n adimensional comparativa: $SG = \rho_{fluido} / \rho_{agua@4^\circ C}$.</li>
                        </ul>
                        
                        <h3 class="font-bold text-slate-900 mb-4 text-lg border-l-4 border-blue-500 pl-4">Aplicaciones Industriales</h3>
                        <p>Estas propiedades gobiernan el dise√±o de separadores por gravedad (sedimentaci√≥n, centrifugaci√≥n). En el sector petrolero, el est√°ndar es el grado <strong>API</strong>, mientras que en alimentos se usan los grados <strong>Brix</strong>.</p>

                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm mt-6">
                            <div class="grid grid-cols-2 gap-4">
                                <div class="math-display">$$ v = 1/\rho $$</div>
                                <div class="math-display">$$ \gamma = \rho g $$</div>
                                <div class="math-display">$$ SG = \rho / \rho_{agua} $$</div>
                                <div class="math-display">$$ API = \frac{141.5}{SG} - 131.5 $$</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex flex-col gap-6">
                        <figure>
                            <div class="img-box bg-slate-100"><img src="https://github.com/Juansanher25/fluidproperties/blob/main/Density_column.jpg?raw=true" alt="Columna Densidad"></div>
                            <figcaption>Fig 1.1: Estratificaci√≥n de fluidos debido a diferencias en su Gravedad Espec√≠fica ($SG$).</figcaption>
                        </figure>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mt-auto">
                            <h3 class="text-blue-900 font-bold mb-4 text-sm uppercase flex items-center gap-2">Calculadora API</h3>
                            <div class="flex gap-4 items-end">
                                <div class="flex-1">
                                    <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Densidad (kg/m¬≥)</label>
                                    <input type="number" id="input-rho" class="w-full p-3 text-base border border-slate-300 rounded outline-none focus:ring-2 focus:ring-blue-500" value="850">
                                </div>
                                <button onclick="calculateAPI()" class="btn-primary shadow-sm">Calcular</button>
                            </div>
                            <div class="mt-4 flex justify-between items-center bg-white p-4 rounded border border-blue-100">
                                <span class="text-sm text-slate-500 font-medium">Gravedad API:</span>
                                <span id="result-api" class="text-2xl font-bold text-blue-800">-- ¬∞</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ejemplo Restaurado Completo -->
                <details class="group bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-all overflow-hidden mb-8">
                    <summary class="flex justify-between items-center p-5 cursor-pointer select-none bg-slate-50 hover:bg-slate-100 transition-colors">
                        <div class="flex items-center gap-4">
                            <span class="bg-emerald-600 text-white px-3 py-1 rounded text-xs font-bold tracking-wide">EJEMPLO 1</span> 
                            <span class="font-bold text-slate-800 text-lg">Clasificaci√≥n Comercial de Crudo</span>
                        </div>
                        <span class="text-slate-400 transform group-open:rotate-180 transition-transform duration-300">‚ñº</span>
                    </summary>
                    <div class="p-6 border-t border-slate-100 bg-white">
                        <p class="font-medium text-slate-900 mb-2">Enunciado:</p>
                        <p class="italic mb-4 bg-slate-50 p-4 rounded border-l-4 border-emerald-500 text-slate-700">
                            Un ingeniero de producci√≥n en un campo petrolero toma una muestra de crudo y mide su gravedad espec√≠fica, obteniendo un valor de <strong>$SG = 0.85$</strong>. Se requiere calcular sus grados API para clasificarlo comercialmente y determinar su precio en el mercado internacional. (Recuerde que un crudo se considera "liviano" si su API > 31.1).
                        </p>
                        <div class="bg-slate-50 p-5 rounded-lg border border-slate-200 font-mono text-base">
                            <p class="mb-2">C√°lculo:</p>
                            <div class="math-display">$$ API = \frac{141.5}{0.85} - 131.5 \approx 35^\circ $$</div>
                            <p class="mt-3 text-emerald-800 font-bold text-center">Conclusi√≥n: Como $35 > 31.1$, se clasifica como CRUDO LIVIANO de alto valor.</p>
                        </div>
                    </div>
                </details>

                <div class="resource-box">
                    <h4 class="text-sm font-bold text-slate-500 uppercase mb-4 flex items-center gap-2">üìö Para profundizar:</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <a href="https://www.youtube.com/watch?v=M2Q3fA9Ief4" target="_blank" class="external-link">üì∫ Video: ¬øQu√© son los grados API? (Explicaci√≥n detallada)</a>
                        <a href="https://www.youtube.com/watch?v=Jea7M4JiBFQ" target="_blank" class="external-link">üì∫ Video: Diferencia entre Densidad y Peso Espec√≠fico</a>
                    </div>
                </div>
            </section>

            <!-- 2. COMPRESIBILIDAD -->
            <section id="compressibility" class="tab-panel content-card">
                <header class="mb-8 border-b border-slate-300 pb-5">
                    <span class="text-blue-600 font-bold text-xs uppercase tracking-widest mb-2 block">M√≥dulo 2</span>
                    <h2 class="text-4xl text-slate-800 font-bold serif-font">Compresibilidad</h2>
                </header>
                
                <div class="grid lg:grid-cols-2 gap-10 mb-10">
                    <div class="text-slate-700">
                        <p>La compresibilidad mide cu√°nto disminuye el volumen de un fluido al aumentar la presi√≥n. Se cuantifica mediante el <strong>M√≥dulo de Elasticidad Volum√©trica ($E_v$)</strong>. Un $E_v$ alto indica gran rigidez.</p>
                        <p class="mb-2 font-bold">Valores t√≠picos a 20¬∞C:</p>
                        <ul class="list-disc list-inside text-base bg-slate-100 p-5 rounded border border-slate-200 mb-5">
                            <li><strong>Mercurio:</strong> 28.5 GPa (Extremadamente incompresible)</li>
                            <li><strong>Agua:</strong> 2.2 GPa (Referencia para l√≠quidos)</li>
                            <li><strong>Etanol:</strong> 1.15 GPa (M√°s compresible que el agua)</li>
                        </ul>
                        <div class="bg-indigo-50 p-5 rounded-lg border border-indigo-100 text-center font-bold text-indigo-900 my-4 shadow-sm">
                            Criterio de Incompresibilidad en Gases: <br> 
                            <span class="text-2xl mt-2 block">$$ Ma = \frac{V}{c} < 0.3 $$</span>
                        </div>
                    </div>
                    <div>
                        <figure><div class="img-box bg-white"><img src="https://github.com/Juansanher25/fluidproperties/blob/main/Mach_Number_Flow_Regimes.png?raw=true" alt="Reg√≠menes Mach"></div><figcaption>Fig 2.1: Reg√≠menes de flujo seg√∫n el N√∫mero de Mach.</figcaption></figure>
                    </div>
                </div>

                <!-- Ejemplo Restaurado Completo -->
                <div class="space-y-6 mb-8">
                    <details class="group bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-all">
                        <summary class="flex justify-between items-center p-5 cursor-pointer bg-slate-50 hover:bg-slate-100">
                            <div class="flex items-center gap-4"><span class="bg-emerald-600 text-white px-3 py-1 rounded text-xs font-bold">EJEMPLO 2</span><span class="font-bold text-slate-800 text-lg">Aerodin√°mica de Vuelo Comercial</span></div>
                            <span class="text-slate-400 transform group-open:rotate-180 transition-transform">‚ñº</span>
                        </summary>
                        <div class="p-6 border-t border-slate-100">
                            <p class="italic mb-4 bg-slate-50 p-4 rounded border-l-4 border-emerald-500 text-slate-700">
                                Un avi√≥n comercial vuela a una velocidad crucero de <strong>150 m/s</strong>. A la altitud de vuelo, la temperatura del aire es baja y la velocidad del sonido se reduce a <strong>340 m/s</strong>. ¬øPuede el ingeniero aerodin√°mico utilizar las ecuaciones simplificadas de flujo incompresible (Bernoulli simple) para modelar el aire alrededor de las alas?
                            </p>
                            <div class="bg-slate-50 p-5 rounded-lg border border-slate-200 text-center">
                                <div class="math-display">$$ Ma = \frac{150}{340} \approx 0.44 $$</div>
                                <div class="mt-3 p-3 bg-red-50 border border-red-200 rounded text-red-800 font-bold">
                                    Conclusi√≥n: Como $0.44 > 0.3$, el flujo es COMPRESIBLE. <br>
                                    El uso de ecuaciones incompresibles generar√≠a errores graves (>5%) en el c√°lculo de sustentaci√≥n.
                                </div>
                            </div>
                        </div>
                    </details>
                </div>

                <div class="resource-box">
                    <h4 class="text-sm font-bold text-slate-500 uppercase mb-4 flex items-center gap-2">üìö Para profundizar:</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <a href="https://www.youtube.com/watch?v=FERCAWBqDaE" target="_blank" class="external-link">üì∫ Video: Mach Number and Compressibility explained</a>
                        <a href="https://www.youtube.com/watch?v=iMPFN3rLIr8" target="_blank" class="external-link">üì∫ Video: Basics of Compressible Flow</a>
                    </div>
                </div>
            </section>

            <!-- 3. VISCOSIDAD -->
            <section id="viscosity" class="tab-panel content-card">
                <header class="mb-8 border-b border-slate-300 pb-5">
                    <span class="text-blue-600 font-bold text-xs uppercase tracking-widest mb-2 block">M√≥dulo 3</span>
                    <h2 class="text-4xl text-slate-800 font-bold serif-font">Viscosidad Absoluta</h2>
                </header>
                
                <div class="grid lg:grid-cols-2 gap-10 mb-10">
                    <div class="space-y-6 text-slate-700">
                        <p>Es la medida de la "fricci√≥n interna" del fluido. En los l√≠quidos, la viscosidad disminuye dr√°sticamente al aumentar la temperatura, lo cual es cr√≠tico para seleccionar aceites de motor. Una regla de oro en sistemas de bombeo es:</p>
                        <div class="bg-white p-5 rounded border border-slate-200 text-center shadow-sm">
                            <span class="text-xs uppercase font-bold text-slate-400 block mb-2">Relaci√≥n Energ√©tica</span>
                            <div class="math-display">$$ Potencia_{bombeo} \propto \mu $$</div>
                            <p class="text-sm text-slate-500 mt-2">A mayor viscosidad, mayor consumo de energ√≠a el√©ctrica en la bomba.</p>
                        </div>
                        <div class="chart-wrapper"><canvas id="rheogramChart"></canvas></div>
                    </div>
                    <div class="flex flex-col gap-6">
                        <figure><div class="img-box bg-white"><img src="https://github.com/Juansanher25/fluidproperties/blob/main/SIGAUS_aceite.jpg?raw=true" alt="Aceite Motor"></div><figcaption>Fig 3.1: Aceites multigrado (e.g. 10W-30) dise√±ados para mantener viscosidad estable.</figcaption></figure>
                    </div>
                </div>

                <!-- Ejemplo Restaurado Completo -->
                <details class="group bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-all mb-8">
                    <summary class="flex justify-between items-center p-5 cursor-pointer bg-slate-50 hover:bg-slate-100">
                        <div class="flex items-center gap-4"><span class="bg-emerald-600 text-white px-3 py-1 rounded text-xs font-bold">EJEMPLO 4</span><span class="font-bold text-slate-800 text-lg">C√°lculo de Esfuerzo Cortante</span></div>
                        <span class="text-slate-400 transform group-open:rotate-180 transition-transform">‚ñº</span>
                    </summary>
                    <div class="p-6 border-t border-slate-100">
                        <p class="italic mb-4 bg-slate-50 p-4 rounded border-l-4 border-emerald-500 text-slate-700">
                            Un eje de acero se mueve linealmente a una velocidad de <strong>2 m/s</strong> dentro de una camisa. El espacio entre el eje y la camisa est√° lleno con una pel√≠cula de aceite de <strong>0.5 mm</strong> de espesor y viscosidad din√°mica <strong>0.05 Pa¬∑s</strong>. Calcule el esfuerzo cortante ($\tau$) que se opone al movimiento.
                        </p>
                        <div class="bg-slate-50 p-5 rounded-lg border border-slate-200 text-center">
                            <p class="mb-2 text-left text-sm">Gradiente de velocidad: $du/dy = 2 / 0.0005 = 4000 \, s^{-1}$.</p>
                            <div class="math-display">$$ \tau = \mu \frac{du}{dy} = 0.05 \times 4000 = 200 \, Pa $$</div>
                        </div>
                    </div>
                </details>

                <div class="resource-box">
                    <h4 class="text-sm font-bold text-slate-500 uppercase mb-4 flex items-center gap-2">üìö Para profundizar:</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <a href="https://www.youtube.com/watch?v=u5_LtYBg6Ag" target="_blank" class="external-link">üì∫ Video: Viscosity & Non-Newtonian Fluids</a>
                        <a href="https://www.youtube.com/watch?v=dfVbWfhPQ3Y" target="_blank" class="external-link">üì∫ Video: Visual Experiments on Viscosity</a>
                    </div>
                </div>
            </section>

            <!-- 4. CAPILARIDAD -->
            <section id="capillarity" class="tab-panel content-card">
                <header class="mb-8 border-b border-slate-300 pb-5">
                    <span class="text-blue-600 font-bold text-xs uppercase tracking-widest mb-2 block">M√≥dulo 4</span>
                    <h2 class="text-4xl text-slate-800 font-bold serif-font">Capilaridad</h2>
                </header>
                
                <div class="grid lg:grid-cols-2 gap-10 mb-10">
                    <div class="text-slate-700">
                        <p>Fen√≥meno de ascenso o descenso de l√≠quidos en tubos finos, causado por la tensi√≥n superficial ($\sigma$).</p>
                        <p><strong>Aplicaci√≥n en Ingenier√≠a de Petr√≥leos:</strong> Este concepto es vital para entender la recuperaci√≥n de hidrocarburos. El petr√≥leo se encuentra atrapado en los poros microsc√≥picos de las rocas sedimentarias y se mueve impulsado por la <strong>presi√≥n capilar</strong>, desplazando al agua connata.</p>
                        <div class="bg-white p-5 rounded border border-slate-200 shadow-sm my-5"><div class="math-display">$$ h = \frac{2 \sigma \cos \theta}{\gamma r} $$</div></div>
                    </div>
                    <div>
                         <figure>
                            <div class="bg-white border border-slate-300 rounded-lg h-[240px] flex items-end justify-center gap-6 pb-0 relative overflow-hidden shadow-inner">
                                <div class="flex flex-col items-center justify-end h-full w-8 z-10"><div class="w-full text-[9px] text-center mb-1 text-slate-500">fino</div><div class="w-3 h-[85%] border-x border-slate-400 bg-blue-50 relative"><div class="absolute bottom-0 w-full bg-blue-500 h-[80%] opacity-80"></div></div></div>
                                <div class="flex flex-col items-center justify-end h-full w-10 z-10"><div class="w-full text-[9px] text-center mb-1 text-slate-500">medio</div><div class="w-6 h-[85%] border-x border-slate-400 bg-blue-50 relative"><div class="absolute bottom-0 w-full bg-blue-500 h-[40%] opacity-80"></div></div></div>
                                <div class="flex flex-col items-center justify-end h-full w-14 z-10"><div class="w-full text-[9px] text-center mb-1 text-slate-500">ancho</div><div class="w-10 h-[85%] border-x border-slate-400 bg-blue-50 relative"><div class="absolute bottom-0 w-full bg-blue-500 h-[15%] opacity-80"></div></div></div>
                                <div class="absolute bottom-0 w-full h-5 bg-blue-500 opacity-80 z-0"></div>
                            </div>
                            <figcaption>Fig 4.1: A menor di√°metro de poro/tubo, mayor es el ascenso capilar.</figcaption>
                        </figure>
                    </div>
                </div>

                <!-- Ejemplo Restaurado Completo -->
                <details class="group bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-all mb-8">
                    <summary class="flex justify-between items-center p-5 cursor-pointer bg-slate-50 hover:bg-slate-100">
                        <div class="flex items-center gap-4"><span class="bg-emerald-600 text-white px-3 py-1 rounded text-xs font-bold">EJEMPLO 5</span><span class="font-bold text-slate-800 text-lg">Error de Lectura en Man√≥metro</span></div>
                        <span class="text-slate-400 transform group-open:rotate-180 transition-transform">‚ñº</span>
                    </summary>
                    <div class="p-6 border-t border-slate-100">
                        <p class="italic mb-4 bg-slate-50 p-4 rounded border-l-4 border-emerald-500 text-slate-700">
                            Para medir el nivel de un tanque de agua, se instala un tubo de vidrio externo (piez√≥metro) de <strong>1 mm de di√°metro</strong>. Debido a la capilaridad, el agua sube por el vidrio m√°s all√° del nivel real del l√≠quido dentro del tanque, falseando la medici√≥n. Calcule la magnitud de este <strong>error de lectura</strong> (altura extra). (Datos: $\sigma=0.073 N/m$).
                        </p>
                        <div class="bg-slate-50 p-5 rounded-lg border border-slate-200 text-center">
                            <p class="mb-2 text-left text-sm">Radio $r = 0.5 mm = 0.0005 m$.</p>
                            <div class="math-display">$$ h = \frac{2(0.073)(1)}{9790(0.0005)} \approx 0.0298 \, m $$</div>
                            <p class="mt-3 text-emerald-800 font-bold">Error: El instrumento marca +2.98 cm por encima del nivel real.</p>
                        </div>
                    </div>
                </details>

                <div class="resource-box">
                    <h4 class="text-sm font-bold text-slate-500 uppercase mb-4 flex items-center gap-2">üìö Para profundizar:</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <a href="https://www.youtube.com/watch?v=wFL-MH5RZoI" target="_blank" class="external-link">üì∫ Video: Capillary Pressure in Reservoirs</a>
                        <a href="https://www.youtube.com/watch?v=-BwdFd2ViAw" target="_blank" class="external-link">üì∫ Video: Capillarity Explained Simply</a>
                    </div>
                </div>
            </section>

            <!-- 5. PRESI√ìN DE VAPOR -->
            <section id="vapor" class="tab-panel content-card">
                <header class="mb-8 border-b border-slate-300 pb-5">
                    <span class="text-blue-600 font-bold text-xs uppercase tracking-widest mb-2 block">M√≥dulo 5</span>
                    <h2 class="text-4xl text-slate-800 font-bold serif-font">Presi√≥n de Vapor</h2>
                </header>
                
                <div class="grid lg:grid-cols-2 gap-10 mb-10">
                    <div class="flex flex-col gap-6">
                        <div class="text-slate-700 text-base">
                            <p>Es la presi√≥n a la cual un l√≠quido hierve a una temperatura dada. Clasificaci√≥n:</p>
                            <ul class="list-disc list-inside mt-3 pl-2">
                                <li><strong>L√≠quidos Vol√°tiles:</strong> Tienen alta $P_v$ (ej. Gasolina, Acetona). Se evaporan f√°cilmente.</li>
                                <li><strong>L√≠quidos No Vol√°tiles:</strong> Tienen baja $P_v$ (ej. Mercurio, Aceites).</li>
                            </ul>
                        </div>
                        <div class="chart-wrapper"><canvas id="vaporChart"></canvas></div>
                    </div>
                    <div class="flex flex-col gap-6">
                        <figure><div class="img-box bg-white"><img src="https://github.com/Juansanher25/fluidproperties/blob/main/CENTRIPUMP.jpg?raw=true" alt="Da√±o por Cavitaci√≥n"></div><figcaption>Fig 5.1: Impulsor destruido por cavitaci√≥n.</figcaption></figure>
                        <div class="bg-red-50 border border-red-200 p-5 rounded-lg shadow-sm">
                            <h4 class="font-bold text-red-800 mb-2 text-sm">Riesgo Cr√≠tico: Cavitaci√≥n</h4>
                            <p class="text-sm text-red-900 leading-relaxed text-left">
                                Si la presi√≥n en la succi√≥n cae por debajo de la presi√≥n de vapor ($P < P_v$), el l√≠quido hierve fr√≠o. Las burbujas formadas colapsan violentamente al entrar al impulsor, arrancando material met√°lico (pitting).
                            </p>
                        </div>
                    </div>
                </div>

                 <!-- Ejemplo Restaurado Completo -->
                 <details class="group bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-all mb-8">
                    <summary class="flex justify-between items-center p-5 cursor-pointer bg-slate-50 hover:bg-slate-100">
                        <div class="flex items-center gap-4"><span class="bg-emerald-600 text-white px-3 py-1 rounded text-xs font-bold">EJEMPLO 6</span><span class="font-bold text-slate-800 text-lg">Diagn√≥stico de Operaci√≥n de Bomba</span></div>
                        <span class="text-slate-400 transform group-open:rotate-180 transition-transform">‚ñº</span>
                    </summary>
                    <div class="p-6 border-t border-slate-100">
                        <p class="italic mb-4 bg-slate-50 p-4 rounded border-l-4 border-emerald-500 text-slate-700">
                            Una bomba centr√≠fuga est√° operando con agua caliente a <strong>60¬∞C</strong> en un proceso industrial. El operador observa que el vacu√≥metro instalado en la brida de succi√≥n marca una presi√≥n absoluta de <strong>15 kPa</strong>. ¬øExiste riesgo inminente de da√±o por cavitaci√≥n?
                        </p>
                        <div class="bg-slate-50 p-5 rounded-lg border border-slate-200 text-center">
                            <p class="text-sm mb-2 text-left">Paso 1: Consultar la curva de saturaci√≥n. Para $T=60^\circ C \rightarrow P_v \approx 19.9 \, kPa$.</p>
                            <div class="math-display">$$ P_{succi√≥n} (15 \, kPa) < P_{vapor} (19.9 \, kPa) $$</div>
                            <p class="mt-3 text-red-700 font-bold text-lg">¬°S√ç, HAY RIESGO SEVERO DE CAVITACI√ìN!</p>
                            <p class="text-xs text-red-600 mt-1">El agua est√° hirviendo en la entrada. Se debe aumentar la presi√≥n de succi√≥n inmediatamente.</p>
                        </div>
                    </div>
                </details>

                <div class="resource-box">
                    <h4 class="text-sm font-bold text-slate-500 uppercase mb-4 flex items-center gap-2">üìö Para profundizar:</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <a href="https://www.youtube.com/watch?v=VBLlBX1uV-o" target="_blank" class="external-link">üì∫ Video: Understanding Cavitation in Pumps</a>
                        <a href="https://www.youtube.com/watch?v=FeFLDin2uIY" target="_blank" class="external-link">üì∫ Video: Pump Cavitation Prevention</a>
                    </div>
                </div>
            </section>

            <!-- EVALUACI√ìN Y BIBLIO -->
            <section id="quiz" class="tab-panel content-card">
                <header class="mb-8 border-b border-slate-300 pb-5">
                    <span class="text-blue-600 font-bold text-xs uppercase tracking-widest mb-2 block">Evaluaci√≥n</span>
                    <h2 class="text-4xl text-slate-800 font-bold serif-font">Cuestionario Final</h2>
                </header>
                <div id="quiz-container" class="space-y-5 mb-8"></div>
                <div class="flex gap-4">
                    <button id="submit-quiz-btn" onclick="submitQuiz()" class="btn-primary shadow-lg px-8 py-3 text-lg">Calificar Examen</button>
                    <button id="retry-quiz-btn" onclick="initQuiz()" class="hidden bg-slate-200 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-300 transition shadow">Intentar de Nuevo</button>
                </div>
                <div id="quiz-result" class="hidden mt-8 p-6 bg-emerald-50 rounded-xl text-center border border-emerald-200 shadow-sm">
                    <div class="text-5xl font-bold text-emerald-600 mb-2 serif-font"><span id="score-val">0</span>/10</div>
                    <p id="score-msg" class="text-emerald-800 italic text-lg">Feedback...</p>
                </div>
            </section>
            
            <section id="biblio" class="tab-panel content-card">
                <header class="mb-8 border-b border-slate-300 pb-5"><h2 class="text-4xl text-slate-800 font-bold serif-font">Bibliograf√≠a</h2></header>
                <div class="bg-white p-8 rounded-xl border border-slate-200 text-base text-slate-700 font-mono space-y-4 shadow-sm">
                     <p>Cengel, Y. A., & Cimbala, J. M. (2018). <i>Fluid Mechanics: Fundamentals and Applications</i> (4th ed.). McGraw-Hill Education.</p>
                     <p>Mott, R. L., & Untener, J. A. (2016). <i>Applied Fluid Mechanics</i> (7th ed.). Pearson.</p>
                     <p>Fox, R. W., McDonald, A. T., & Mitchell, P. J. (2020). <i>Fox and McDonald's Introduction to Fluid Mechanics</i> (10th ed.). Wiley.</p>
                     <p>Sandoval Herrera, J. (2026). <i>Notas de Clase: Mec√°nica de Fluidos e Hidr√°ulica</i>. Facultad de Ingenier√≠as, Universidad de Am√©rica.</p>
                </div>
            </section>
        </div>
    </main>

    <script>
        // Navegaci√≥n
        function navTo(id) {
            document.querySelectorAll('.tab-panel').forEach(p => {
                p.classList.remove('active');
                p.classList.remove('page-turn-enter');
            });
            const newSection = document.getElementById(id);
            if(newSection) {
                newSection.classList.add('active');
                void newSection.offsetWidth; 
                newSection.classList.add('page-turn-enter');
            }
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            const btn = document.querySelector(`button[data-target="${id}"]`);
            if(btn) btn.classList.add('active');
            document.getElementById('content-perspective').scrollTop = 0;
            if(window.innerWidth < 768) document.getElementById('sidebar').classList.add('-translate-x-full');
            if (id === 'viscosity') renderRheogram();
            if (id === 'vapor') renderVaporChart();
        }

        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('-translate-x-full'); }

        function calculateAPI() {
            const rho = parseFloat(document.getElementById('input-rho').value);
            if(rho>0) document.getElementById('result-api').innerText = ((141.5 / (rho/1000)) - 131.5).toFixed(1) + " ¬∞";
        }

        // Gr√°ficas
        function getRheogramData() {
            const x = [0,10,20,30,40,50,60,70,80,90,100];
            return {
                labels: x,
                datasets: [
                    { label: 'Newtoniano', data: x.map(v=>v*1), borderColor: '#3b82f6', tension:0, borderWidth:3 },
                    { label: 'Pseudopl√°stico', data: x.map(v=>Math.pow(v,0.7)*3), borderColor: '#f43f5e', tension:0.4, borderWidth:3 },
                    { label: 'Dilatante', data: x.map(v=>Math.pow(v,1.4)*0.2), borderColor: '#10b981', tension:0.4, borderWidth:3 }
                ],
                xLabel: 'Tasa de Deformaci√≥n (du/dy) [1/s]', yLabel: 'Esfuerzo Shear (Pa)', title: 'Reograma'
            };
        }
        
        function getVaporData() {
            const d=[]; for(let t=0;t<=100;t+=5) d.push(Math.pow(10,8.07131-(1730.63/(t+233.426)))/7.50062);
            return {
                labels: Array.from({length:21},(_,i)=>i*5),
                datasets: [{ label: 'Pv Agua (kPa)', data: d, borderColor: '#ef4444', backgroundColor: 'rgba(239,68,68,0.1)', fill:true, borderWidth:3, pointRadius:4 }],
                xLabel: 'Temp (¬∞C)', yLabel: 'Presi√≥n (kPa)', title: 'Presi√≥n de Vapor'
            };
        }

        let rheoChart, vapChart;
        function renderRheogram() {
            if(rheoChart) return;
            const d = getRheogramData();
            rheoChart = new Chart(document.getElementById('rheogramChart').getContext('2d'), {
                type: 'line', data: { labels: d.labels, datasets: d.datasets },
                options: { responsive: true, maintainAspectRatio: false, scales: { x:{title:{display:true,text:d.xLabel}}, y:{title:{display:true,text:d.yLabel}} } }
            });
        }
        function renderVaporChart() {
            if(vapChart) return;
            const d = getVaporData();
            vapChart = new Chart(document.getElementById('vaporChart').getContext('2d'), {
                type: 'line', data: { labels: d.labels, datasets: d.datasets },
                options: { responsive: true, maintainAspectRatio: false, scales: { x:{title:{display:true,text:d.xLabel}}, y:{title:{display:true,text:d.yLabel}} }, plugins: { legend: {display:false} } }
            });
        }

        // Quiz Aleatorio
        const qPool = [
            { q: "Condici√≥n Mach para asumir flujo incompresible:", opt: ["Ma > 1", "Ma < 0.3", "Ma = 0", "Ma > 0.5"], a: 1 },
            { q: "Propiedad que relaciona la densidad de un fluido con la del agua:", opt: ["Viscosidad", "Peso Espec√≠fico", "Gravedad Espec√≠fica", "Presi√≥n de Vapor"], a: 2 },
            { q: "Si la presi√≥n local cae por debajo de la presi√≥n de vapor, ocurre:", opt: ["Solidificaci√≥n", "Densificaci√≥n", "Cavitaci√≥n", "Nada"], a: 2 },
            { q: "Unidad SI de la viscosidad din√°mica:", opt: ["Pa¬∑s", "m¬≤/s", "Poise", "Stoke"], a: 0 },
            { q: "Fluido cuya viscosidad aumenta con el esfuerzo cortante:", opt: ["Newtoniano", "Pseudopl√°stico", "Dilatante", "Gas ideal"], a: 2 },
            { q: "El inverso de la densidad es:", opt: ["Gravedad API", "Volumen Espec√≠fico", "Peso Espec√≠fico", "Compresibilidad"], a: 1 },
            { q: "Fen√≥meno responsable del error de lectura en tubos de vidrio delgados:", opt: ["Turbulencia", "Cavitaci√≥n", "Capilaridad", "Compresibilidad"], a: 2 },
            { q: "Seg√∫n Newton, el esfuerzo cortante es proporcional a:", opt: ["Presi√≥n", "Temperatura", "Gradiente de velocidad", "Volumen"], a: 2 },
            { q: "A 20¬∞C, ¬øcu√°l fluido tiene mayor viscosidad?", opt: ["Agua", "Mercurio", "Aire", "Glicerina"], a: 3 },
            { q: "El aumento de viscosidad en una bomba genera:", opt: ["Menos potencia requerida", "M√°s potencia requerida", "Igual potencia", "Mayor flujo"], a: 1 },
        ];
        
        let currQ = [];
        function initQuiz() {
            const c = document.getElementById('quiz-container'); c.innerHTML='';
            document.getElementById('quiz-result').classList.add('hidden');
            document.getElementById('submit-quiz-btn').classList.remove('hidden');
            document.getElementById('retry-quiz-btn').classList.add('hidden');
            
            currQ = [...qPool].sort(()=>0.5-Math.random()).slice(0,10);
            
            currQ.forEach((q,i) => {
                const d = document.createElement('div');
                d.className = "bg-white p-5 rounded-lg border border-slate-200 shadow-sm";
                let indices = q.opt.map((_, idx) => idx);
                indices.sort(() => 0.5 - Math.random());
                
                let optionsHTML = '';
                indices.forEach(k => {
                    optionsHTML += `<label class="flex items-center gap-3 mt-3 cursor-pointer p-2 hover:bg-slate-50 rounded"><input type="radio" name="q${i}" value="${k}" class="w-5 h-5 accent-blue-600"> <span class="text-base">${q.opt[k]}</span></label>`;
                });
                d.innerHTML = `<p class="font-bold text-lg mb-3">${i+1}. ${q.q}</p>${optionsHTML}<div id="fb-q${i}" class="hidden mt-4 p-3 rounded font-bold text-center text-sm"></div>`;
                c.appendChild(d);
            });
        }

        function submitQuiz() {
            let sc = 0;
            currQ.forEach((q,i) => {
                const s = document.querySelector(`input[name="q${i}"]:checked`);
                const f = document.getElementById(`fb-q${i}`); f.classList.remove('hidden');
                document.querySelectorAll(`input[name="q${i}"]`).forEach(inp=>inp.disabled=true);
                if(s && +s.value === q.a) { 
                    sc++; f.className="bg-emerald-100 text-emerald-800"; f.innerText="‚úì Correcto"; 
                } else { 
                    f.className="bg-red-100 text-red-800"; f.innerText=`‚úó Incorrecto. La respuesta correcta era: ${q.opt[q.a]}`; 
                }
            });
            document.getElementById('score-val').innerText = sc;
            document.getElementById('quiz-result').classList.remove('hidden');
            document.getElementById('submit-quiz-btn').classList.add('hidden');
            document.getElementById('retry-quiz-btn').classList.remove('hidden');
            document.getElementById('quiz-result').scrollIntoView({behavior:'smooth'});
        }

        window.onload = initQuiz;
    </script>
</body>
</html>
